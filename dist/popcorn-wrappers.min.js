/*
 * popcorn.js version d05323f
 * http://popcornjs.org
 *
 * Copyright 2011, Mozilla Foundation
 * Licensed under the MIT license
 */

(function(j,t){function s(a){H.put.call(this,a)}function m(a){this.parent=a;this.byStart=[{start:-1,end:-1}];this.byEnd=[{start:-1,end:-1}];this.animating=[];this.endIndex=this.startIndex=0;this.previousUpdateTime=-1;this.count=1}function g(a,b){return function(){if(c.plugin.debug)return a.apply(this,arguments);try{return a.apply(this,arguments)}catch(e){c.plugin.errors.push({plugin:b,thrown:e,source:a.toString()});this.emit("pluginerror",c.plugin.errors)}}}if(t.addEventListener){var p=Array.prototype,
i=Object.prototype,h=p.forEach,v=p.slice,A=i.hasOwnProperty,n=i.toString,u=j.Popcorn,B=[],w=false,E={events:{hash:{},apis:{}}},L=function(){return j.requestAnimationFrame||j.webkitRequestAnimationFrame||j.mozRequestAnimationFrame||j.oRequestAnimationFrame||j.msRequestAnimationFrame||function(a){j.setTimeout(a,16)}}(),H={put:function(a){for(var b in a)if(a.hasOwnProperty(b))this[b]=a[b]}},c=function(a,b){return new c.p.init(a,b||null)};c.version="d05323f";c.isSupported=true;c.instances=[];c.p=c.prototype=
{init:function(a,b){var e,d=this;if(typeof a==="function")if(t.readyState==="complete")a(t,c);else{B.push(a);if(!w){w=true;var o=function(){t.removeEventListener("DOMContentLoaded",o,false);for(var C=0,k=B.length;C<k;C++)B[C].call(t,c);B=null};t.addEventListener("DOMContentLoaded",o,false)}}else{if(typeof a==="string")try{e=t.querySelector(a)}catch(l){throw Error("Popcorn.js Error: Invalid media element selector: "+a);}this.media=e||a;e=this.media.nodeName&&this.media.nodeName.toLowerCase()||"video";
this[e]=this.media;this.options=c.extend({},b)||{};this.id=this.options.id||c.guid(e);if(c.byId(this.id))throw Error("Popcorn.js Error: Cannot use duplicate ID ("+this.id+")");this.isDestroyed=false;this.data={running:{cue:[]},timeUpdate:c.nop,disabled:{},events:{},hooks:{},history:[],state:{volume:this.media.volume},trackRefs:{},trackEvents:new m(this)};c.instances.push(this);var q=function(){if(d.media.currentTime<0)d.media.currentTime=0;d.media.removeEventListener("loadedmetadata",q,false);var C,
k,N,r,f;C=d.media.duration;C=C!=C?Number.MAX_VALUE:C+1;c.addTrackEvent(d,{start:C,end:C});if(!d.isDestroyed){d.data.durationChange=function(){var x=d.media.duration,R=x+1,J=d.data.trackEvents.byStart,M=d.data.trackEvents.byEnd;J.pop();M.pop();for(var z=M.length-1;z>0;z--)M[z].end>x&&d.removeTrackEvent(M[z]._id);for(M=0;M<J.length;M++)J[M].end>x&&d.removeTrackEvent(J[M]._id);d.data.trackEvents.byEnd.push({start:R,end:R});d.data.trackEvents.byStart.push({start:R,end:R})};d.media.addEventListener("durationchange",
d.data.durationChange,false)}if(d.options.frameAnimation){d.data.timeUpdate=function(){c.timeUpdate(d,{});c.forEach(c.manifest,function(x,R){if(k=d.data.running[R]){r=k.length;for(var J=0;J<r;J++){N=k[J];(f=N._natives)&&f.frame&&f.frame.call(d,{},N,d.currentTime())}}});d.emit("timeupdate");!d.isDestroyed&&L(d.data.timeUpdate)};!d.isDestroyed&&L(d.data.timeUpdate)}else{d.data.timeUpdate=function(x){c.timeUpdate(d,x)};d.isDestroyed||d.media.addEventListener("timeupdate",d.data.timeUpdate,false)}};d.media.addEventListener("error",
function(){d.error=d.media.error},false);d.media.readyState>=1?q():d.media.addEventListener("loadedmetadata",q,false);return this}}};c.p.init.prototype=c.p;c.byId=function(a){for(var b=c.instances,e=b.length,d=0;d<e;d++)if(b[d].id===a)return b[d];return null};c.forEach=function(a,b,e){if(!a||!b)return{};e=e||this;var d,o;if(h&&a.forEach===h)return a.forEach(b,e);if(n.call(a)==="[object NodeList]"){d=0;for(o=a.length;d<o;d++)b.call(e,a[d],d,a);return a}for(d in a)A.call(a,d)&&b.call(e,a[d],d,a);return a};
c.extend=function(a){var b=v.call(arguments,1);c.forEach(b,function(e){for(var d in e)a[d]=e[d]});return a};c.extend(c,{noConflict:function(a){if(a)j.Popcorn=u;return c},error:function(a){throw Error(a);},guid:function(a){c.guid.counter++;return(a?a:"")+(+new Date+c.guid.counter)},sizeOf:function(a){var b=0,e;for(e in a)b++;return b},isArray:Array.isArray||function(a){return n.call(a)==="[object Array]"},nop:function(){},position:function(a){if(!a.parentNode)return null;a=a.getBoundingClientRect();
var b={},e=t.documentElement,d=t.body,o,l,q;o=e.clientTop||d.clientTop||0;l=e.clientLeft||d.clientLeft||0;q=j.pageYOffset&&e.scrollTop||d.scrollTop;e=j.pageXOffset&&e.scrollLeft||d.scrollLeft;o=Math.ceil(a.top+q-o);l=Math.ceil(a.left+e-l);for(var C in a)b[C]=Math.round(a[C]);return c.extend({},b,{top:o,left:l})},disable:function(a,b){if(!a.data.disabled[b]){a.data.disabled[b]=true;if(b in c.registryByName&&a.data.running[b])for(var e=a.data.running[b].length-1,d;e>=0;e--){d=a.data.running[b][e];d._natives.end.call(a,
null,d);a.emit("trackend",c.extend({},d,{plugin:d.type,type:"trackend"}))}return a}},enable:function(a,b){if(a.data.disabled[b]){a.data.disabled[b]=false;if(b in c.registryByName&&a.data.running[b])for(var e=a.data.running[b].length-1,d;e>=0;e--){d=a.data.running[b][e];d._natives.start.call(a,null,d);a.emit("trackstart",c.extend({},d,{plugin:d.type,type:"trackstart",track:d}))}return a}},destroy:function(a){var b=a.data.events,e=a.data.trackEvents,d,o,l,q;for(o in b){d=b[o];for(l in d)delete d[l];
b[o]=null}for(q in c.registryByName)c.removePlugin(a,q);e.byStart.length=0;e.byEnd.length=0;if(!a.isDestroyed){a.data.timeUpdate&&a.media.removeEventListener("timeupdate",a.data.timeUpdate,false);a.isDestroyed=true}c.instances.splice(c.instances.indexOf(a),1)}});c.guid.counter=1;c.extend(c.p,function(){var a={};c.forEach("load play pause currentTime playbackRate volume duration preload playbackRate autoplay loop controls muted buffered readyState seeking paused played seekable ended".split(/\s+/g),
function(b){a[b]=function(e){var d;if(typeof this.media[b]==="function"){if(e!=null&&/play|pause/.test(b))this.media.currentTime=c.util.toSeconds(e);this.media[b]();return this}if(e!=null){d=this.media[b];this.media[b]=e;d!==e&&this.emit("attrchange",{attribute:b,previousValue:d,currentValue:e});return this}return this.media[b]}});return a}());c.forEach("enable disable".split(" "),function(a){c.p[a]=function(b){return c[a](this,b)}});c.extend(c.p,{roundTime:function(){return Math.round(this.media.currentTime)},
exec:function(a,b,e){var d=arguments.length,o="trackadded",l,q;try{q=c.util.toSeconds(a)}catch(C){}if(typeof q==="number")a=q;if(typeof a==="number"&&d===2){e=b;b=a;a=c.guid("cue")}else if(d===1)b=-1;else if(l=this.getTrackEvent(a)){this.data.trackEvents.remove(a);s.end(this,l);c.removeTrackEvent.ref(this,a);o="cuechange";if(typeof a==="string"&&d===2){if(typeof b==="number")e=l._natives.start;if(typeof b==="function"){e=b;b=l.start}}}else if(d>=2){if(typeof b==="string"){try{q=c.util.toSeconds(b)}catch(k){}b=
q}if(typeof b==="number")e=e||c.nop();if(typeof b==="function"){e=b;b=-1}}d={id:a,start:b,end:b+1,_running:false,_natives:{start:e||c.nop,end:c.nop,type:"cue"}};if(l)d=c.extend(l,d);if(o==="cuechange"){d._id=d.id||d._id||c.guid(d._natives.type);this.data.trackEvents.add(d);s.start(this,d);this.timeUpdate(this,null,true);c.addTrackEvent.ref(this,d);this.emit(o,c.extend({},d,{id:a,type:o,previousValue:{time:l.start,fn:l._natives.start},currentValue:{time:b,fn:e||c.nop},track:l}))}else c.addTrackEvent(this,
d);return this},mute:function(a){a=a==null||a===true?"muted":"unmuted";if(a==="unmuted"){this.media.muted=false;this.media.volume=this.data.state.volume}if(a==="muted"){this.data.state.volume=this.media.volume;this.media.muted=true}this.emit(a);return this},unmute:function(a){return this.mute(a==null?false:!a)},position:function(){return c.position(this.media)},toggle:function(a){return c[this.data.disabled[a]?"enable":"disable"](this,a)},defaults:function(a,b){if(c.isArray(a)){c.forEach(a,function(e){for(var d in e)this.defaults(d,
e[d])},this);return this}if(!this.options.defaults)this.options.defaults={};this.options.defaults[a]||(this.options.defaults[a]={});c.extend(this.options.defaults[a],b);return this}});c.Events={UIEvents:"blur focus focusin focusout load resize scroll unload",MouseEvents:"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave click dblclick",Events:"loadstart progress suspend emptied stalled play pause error loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange"};
c.Events.Natives=c.Events.UIEvents+" "+c.Events.MouseEvents+" "+c.Events.Events;E.events.apiTypes=["UIEvents","MouseEvents","Events"];(function(a,b){for(var e=E.events.apiTypes,d=a.Natives.split(/\s+/g),o=0,l=d.length;o<l;o++)b.hash[d[o]]=true;e.forEach(function(q){b.apis[q]={};for(var C=a[q].split(/\s+/g),k=C.length,N=0;N<k;N++)b.apis[q][C[N]]=true})})(c.Events,E.events);c.events={isNative:function(a){return!!E.events.hash[a]},getInterface:function(a){if(!c.events.isNative(a))return false;var b=
E.events,e=b.apiTypes;b=b.apis;for(var d=0,o=e.length,l,q;d<o;d++){q=e[d];if(b[q][a]){l=q;break}}return l},all:c.Events.Natives.split(/\s+/g),fn:{trigger:function(a,b){var e,d=this.data.events[a];if(d){if(e=c.events.getInterface(a)){e=t.createEvent(e);e.initEvent(a,true,true,j,1);this.media.dispatchEvent(e);return this}for(e=d.slice();e.length;)e.shift().call(this,b)}return this},listen:function(a,b){var e=this,d=true,o=c.events.hooks[a],l,q;if(typeof b!=="function")throw Error("Popcorn.js Error: Listener is not a function");
if(!this.data.events[a]){this.data.events[a]=[];d=false}if(o){o.add&&o.add.call(this,{},b);if(o.bind)a=o.bind;if(o.handler){q=b;b=function(C){o.handler.call(e,C,q)}}d=true;if(!this.data.events[a]){this.data.events[a]=[];d=false}}this.data.events[a].push(b);!d&&c.events.all.indexOf(a)>-1&&this.media.addEventListener(a,function(C){if(e.data.events[a])for(l=e.data.events[a].slice();l.length;)l.shift().call(e,C)},false);return this},unlisten:function(a,b){var e,d=this.data.events[a];if(d){if(typeof b===
"string"){for(e=0;e<d.length;e++)d[e].name===b&&d.splice(e--,1);return this}else if(typeof b==="function"){for(;e!==-1;){e=d.indexOf(b);e!==-1&&d.splice(e,1)}return this}this.data.events[a]=null;return this}}},hooks:{canplayall:{bind:"canplaythrough",add:function(a,b){var e=false;if(this.media.readyState){setTimeout(function(){b.call(this,a)}.bind(this),0);e=true}this.data.hooks.canplayall={fired:e}},handler:function(a,b){if(!this.data.hooks.canplayall.fired){b.call(this,a);this.data.hooks.canplayall.fired=
true}}}}};c.forEach([["trigger","emit"],["listen","on"],["unlisten","off"]],function(a){c.p[a[0]]=c.p[a[1]]=c.events.fn[a[0]]});s.start=function(a,b){if(b.end>a.media.currentTime&&b.start<=a.media.currentTime&&!b._running){b._running=true;a.data.running[b._natives.type].push(b);if(!a.data.disabled[b._natives.type]){b._natives.start.call(a,null,b);a.emit("trackstart",c.extend({},b,{plugin:b._natives.type,type:"trackstart",track:b}))}}};s.end=function(a,b){var e;if((b.end<=a.media.currentTime||b.start>
a.media.currentTime)&&b._running){e=a.data.running[b._natives.type];b._running=false;e.splice(e.indexOf(b),1);if(!a.data.disabled[b._natives.type]){b._natives.end.call(a,null,b);a.emit("trackend",c.extend({},b,{plugin:b._natives.type,type:"trackend",track:b}))}}};m.prototype.where=function(a){return(this.parent.getTrackEvents()||[]).filter(function(b){var e,d;if(!a)return true;for(e in a){d=a[e];if(b[e]&&b[e]===d||b._natives[e]&&b._natives[e]===d)return true}return false})};m.prototype.add=function(a){var b=
this.byStart,e=this.byEnd,d;a&&a._id&&this.parent.data.history.push(a._id);a.start=c.util.toSeconds(a.start,this.parent.options.framerate);a.end=c.util.toSeconds(a.end,this.parent.options.framerate);for(d=b.length-1;d>=0;d--)if(a.start>=b[d].start){b.splice(d+1,0,a);break}for(b=e.length-1;b>=0;b--)if(a.end>e[b].end){e.splice(b+1,0,a);break}d<=this.parent.data.trackEvents.startIndex&&a.start<=this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.startIndex++;b<=this.parent.data.trackEvents.endIndex&&
a.end<this.parent.data.trackEvents.previousUpdateTime&&this.parent.data.trackEvents.endIndex++;this.count++};m.prototype.remove=function(a){if(a instanceof s)a=a.id;if(typeof a==="object"){this.where(a).forEach(function(r){this.removeTrackEvent(r._id)},this.parent);return this}var b,e,d;d=this.byStart.length;for(var o=0,l=0,q=[],C=[],k=[],N=[];--d>-1;){b=this.byStart[o];e=this.byEnd[o];if(!b._id){q.push(b);C.push(e)}if(b._id){b._id!==a&&q.push(b);e._id!==a&&C.push(e);if(b._id===a)l=o}o++}d=this.animating.length;
o=0;if(d)for(;--d>-1;){b=this.animating[o];b._id||k.push(b);b._id&&b._id!==a&&k.push(b);o++}l<=this.startIndex&&this.startIndex--;l<=this.endIndex&&this.endIndex--;this.byStart=q;this.byEnd=C;this.animating=k;this.count--;d=this.parent.data.history.length;for(o=0;o<d;o++)this.parent.data.history[o]!==a&&N.push(this.parent.data.history[o]);this.parent.data.history=N};c.addTrackEvent=function(a,b){var e;if(!(b instanceof s)){if((b=new s(b))&&b._natives&&b._natives.type&&a.options.defaults&&a.options.defaults[b._natives.type]){e=
c.extend({},b);c.extend(b,a.options.defaults[b._natives.type],e)}if(b._natives){b._id=b.id||b._id||c.guid(b._natives.type);if(b._natives._setup){b._natives._setup.call(a,b);a.emit("tracksetup",c.extend({},b,{plugin:b._natives.type,type:"tracksetup",track:b}))}}a.data.trackEvents.add(b);s.start(a,b);this.timeUpdate(a,null,true);b._id&&c.addTrackEvent.ref(a,b);a.emit("trackadded",c.extend({},b,b._natives?{plugin:b._natives.type}:{},{type:"trackadded",track:b}))}};c.addTrackEvent.ref=function(a,b){a.data.trackRefs[b._id]=
b;return a};c.removeTrackEvent=function(a,b){var e=a.getTrackEvent(b);if(e){e._natives._teardown&&e._natives._teardown.call(a,e);a.data.trackEvents.remove(b);c.removeTrackEvent.ref(a,b);e._natives&&a.emit("trackremoved",c.extend({},e,{plugin:e._natives.type,type:"trackremoved",track:e}))}};c.removeTrackEvent.ref=function(a,b){delete a.data.trackRefs[b];return a};c.getTrackEvents=function(a){var b=[];a=a.data.trackEvents.byStart;for(var e=a.length,d=0,o;d<e;d++){o=a[d];o._id&&b.push(o)}return b};c.getTrackEvents.ref=
function(a){return a.data.trackRefs};c.getTrackEvent=function(a,b){return a.data.trackRefs[b]};c.getTrackEvent.ref=function(a,b){return a.data.trackRefs[b]};c.getLastTrackEventId=function(a){return a.data.history[a.data.history.length-1]};c.timeUpdate=function(a,b){var e=a.media.currentTime,d=a.data.trackEvents.previousUpdateTime,o=a.data.trackEvents,l=o.endIndex,q=o.startIndex,C=o.byStart.length,k=o.byEnd.length,N=c.registryByName,r,f,x;if(d<=e){for(;o.byEnd[l]&&o.byEnd[l].end<=e;){r=o.byEnd[l];
f=(d=r._natives)&&d.type;if(!d||N[f]||a[f]){if(r._running===true){r._running=false;x=a.data.running[f];x.splice(x.indexOf(r),1);if(!a.data.disabled[f]){d.end.call(a,b,r);a.emit("trackend",c.extend({},r,{plugin:f,type:"trackend",track:r}))}}l++}else{c.removeTrackEvent(a,r._id);return}}for(;o.byStart[q]&&o.byStart[q].start<=e;){r=o.byStart[q];f=(d=r._natives)&&d.type;if(!d||N[f]||a[f]){if(r.end>e&&r._running===false){r._running=true;a.data.running[f].push(r);if(!a.data.disabled[f]){d.start.call(a,b,
r);a.emit("trackstart",c.extend({},r,{plugin:f,type:"trackstart",track:r}))}}q++}else{c.removeTrackEvent(a,r._id);return}}}else if(d>e){for(;o.byStart[q]&&o.byStart[q].start>e;){r=o.byStart[q];f=(d=r._natives)&&d.type;if(!d||N[f]||a[f]){if(r._running===true){r._running=false;x=a.data.running[f];x.splice(x.indexOf(r),1);if(!a.data.disabled[f]){d.end.call(a,b,r);a.emit("trackend",c.extend({},r,{plugin:f,type:"trackend",track:r}))}}q--}else{c.removeTrackEvent(a,r._id);return}}for(;o.byEnd[l]&&o.byEnd[l].end>
e;){r=o.byEnd[l];f=(d=r._natives)&&d.type;if(!d||N[f]||a[f]){if(r.start<=e&&r._running===false){r._running=true;a.data.running[f].push(r);if(!a.data.disabled[f]){d.start.call(a,b,r);a.emit("trackstart",c.extend({},r,{plugin:f,type:"trackstart",track:r}))}}l--}else{c.removeTrackEvent(a,r._id);return}}}o.endIndex=l;o.startIndex=q;o.previousUpdateTime=e;o.byStart.length<C&&o.startIndex--;o.byEnd.length<k&&o.endIndex--};c.extend(c.p,{getTrackEvents:function(){return c.getTrackEvents.call(null,this)},
getTrackEvent:function(a){return c.getTrackEvent.call(null,this,a)},getLastTrackEventId:function(){return c.getLastTrackEventId.call(null,this)},removeTrackEvent:function(a){c.removeTrackEvent.call(null,this,a);return this},removePlugin:function(a){c.removePlugin.call(null,this,a);return this},timeUpdate:function(a){c.timeUpdate.call(null,this,a);return this},destroy:function(){c.destroy.call(null,this);return this}});c.manifest={};c.registry=[];c.registryByName={};c.plugin=function(a,b,e){if(c.protect.natives.indexOf(a.toLowerCase())>=
0)c.error("'"+a+"' is a protected function name");else{var d=typeof b==="function",o=["start","end","type","manifest"],l=["_setup","_teardown","start","end","frame"],q={},C=function(r,f){r=r||c.nop;f=f||c.nop;return function(){r.apply(this,arguments);f.apply(this,arguments)}};c.manifest[a]=e=e||b.manifest||{};l.forEach(function(r){b[r]=g(b[r]||c.nop,a)});var k=function(r,f){if(!f)return this;if(f.ranges&&c.isArray(f.ranges)){c.forEach(f.ranges,function(M){M=c.extend({},f,M);delete M.ranges;this[a](M)},
this);return this}var x=f._natives={},R="",J;c.extend(x,r);f._natives.type=f._natives.plugin=a;f._running=false;x.start=x.start||x["in"];x.end=x.end||x.out;if(f.once)x.end=C(x.end,function(){this.removeTrackEvent(f._id)});x._teardown=C(function(){var M=v.call(arguments),z=this.data.running[x.type];M.unshift(null);M[1]._running&&z.splice(z.indexOf(f),1)&&x.end.apply(this,M);M[1]._running=false;this.emit("trackend",c.extend({},f,{plugin:x.type,type:"trackend",track:c.getTrackEvent(this,f.id||f._id)}))},
x._teardown);x._teardown=C(x._teardown,function(){this.emit("trackteardown",c.extend({},f,{plugin:a,type:"trackteardown",track:c.getTrackEvent(this,f.id||f._id)}))});f.compose=f.compose||[];if(typeof f.compose==="string")f.compose=f.compose.split(" ");f.effect=f.effect||[];if(typeof f.effect==="string")f.effect=f.effect.split(" ");f.compose=f.compose.concat(f.effect);f.compose.forEach(function(M){R=c.compositions[M]||{};l.forEach(function(z){x[z]=C(x[z],R[z])})});f._natives.manifest=e;if(!("start"in
f))f.start=f["in"]||0;if(!f.end&&f.end!==0)f.end=f.out||Number.MAX_VALUE;if(!A.call(f,"toString"))f.toString=function(){var M=["start: "+f.start,"end: "+f.end,"id: "+(f.id||f._id)];f.target!=null&&M.push("target: "+f.target);return a+" ( "+M.join(", ")+" )"};if(!f.target){J="options"in e&&e.options;f.target=J&&"target"in J&&J.target}if(!f._id&&f._natives)f._id=c.guid(f._natives.type);if(f instanceof s){if(f._natives){f._id=f.id||f._id||c.guid(f._natives.type);if(f._natives._setup){f._natives._setup.call(this,
f);this.emit("tracksetup",c.extend({},f,{plugin:f._natives.type,type:"tracksetup",track:f}))}}this.data.trackEvents.add(f);s.start(this,f);this.timeUpdate(this,null,true);f._id&&c.addTrackEvent.ref(this,f)}else c.addTrackEvent(this,f);c.forEach(r,function(M,z){o.indexOf(z)===-1&&this.on(z,M)},this);return this};c.p[a]=q[a]=function(r,f){var x,R;if(r&&!f)f=r;else if(x=this.getTrackEvent(r)){R=f;var J={},M;for(M in x)if(A.call(R,M)&&A.call(x,M))J[M]=x[M];if(x._natives._update){this.data.trackEvents.remove(x);
if(A.call(f,"start"))x.start=f.start;if(A.call(f,"end"))x.end=f.end;s.end(this,x);d&&b.call(this,x);x._natives._update.call(this,x,f);this.data.trackEvents.add(x);s.start(this,x)}else{c.extend(x,f);this.data.trackEvents.remove(r);x._natives._teardown&&x._natives._teardown.call(this,x);c.removeTrackEvent.ref(this,r);if(d)k.call(this,b.call(this,x),x);else{x._id=x.id||x._id||c.guid(x._natives.type);if(x._natives&&x._natives._setup){x._natives._setup.call(this,x);this.emit("tracksetup",c.extend({},x,
{plugin:x._natives.type,type:"tracksetup",track:x}))}this.data.trackEvents.add(x);s.start(this,x);this.timeUpdate(this,null,true);c.addTrackEvent.ref(this,x)}this.emit("trackchange",{id:x.id,type:"trackchange",previousValue:J,currentValue:x,track:x});return this}x._natives.type!=="cue"&&this.emit("trackchange",{id:x.id,type:"trackchange",previousValue:J,currentValue:R,track:x});return this}else f.id=r;this.data.running[a]=this.data.running[a]||[];x=c.extend({},this.options.defaults&&this.options.defaults[a]||
{},f);k.call(this,d?b.call(this,x):b,x);return this};e&&c.extend(b,{manifest:e});var N={fn:q[a],definition:b,base:b,parents:[],name:a};c.registry.push(c.extend(q,N,{type:a}));c.registryByName[a]=N;return q}};c.plugin.errors=[];c.plugin.debug=c.version==="d05323f";c.removePlugin=function(a,b){if(!b){b=a;a=c.p;if(c.protect.natives.indexOf(b.toLowerCase())>=0){c.error("'"+b+"' is a protected function name");return}var e=c.registry.length,d;for(d=0;d<e;d++)if(c.registry[d].name===b){c.registry.splice(d,
1);delete c.registryByName[b];delete c.manifest[b];delete a[b];return}}e=a.data.trackEvents.byStart;d=a.data.trackEvents.byEnd;var o=a.data.trackEvents.animating,l,q;l=0;for(q=e.length;l<q;l++){if(e[l]&&e[l]._natives&&e[l]._natives.type===b){e[l]._natives._teardown&&e[l]._natives._teardown.call(a,e[l]);e.splice(l,1);l--;q--;if(a.data.trackEvents.startIndex<=l){a.data.trackEvents.startIndex--;a.data.trackEvents.endIndex--}}d[l]&&d[l]._natives&&d[l]._natives.type===b&&d.splice(l,1)}l=0;for(q=o.length;l<
q;l++)if(o[l]&&o[l]._natives&&o[l]._natives.type===b){o.splice(l,1);l--;q--}};c.compositions={};c.compose=function(a,b,e){c.manifest[a]=e||b.manifest||{};c.compositions[a]=b};c.plugin.effect=c.effect=c.compose;var I=/^(?:\.|#|\[)/;c.dom={debug:false,find:function(a,b){var e=null;b=b||t;if(a){if(!I.test(a)){e=t.getElementById(a);if(e!==null)return e}try{e=b.querySelector(a)}catch(d){if(c.dom.debug)throw Error(d);}}return e}};var y=/\?/,P={ajax:null,url:"",data:"",dataType:"",success:c.nop,type:"GET",
async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8"};c.xhr=function(a){a.dataType=a.dataType&&a.dataType.toLowerCase()||null;if(a.dataType&&(a.dataType==="jsonp"||a.dataType==="script"))c.xhr.getJSONP(a.url,a.success,a.dataType==="script");else{a=c.extend({},P,a);a.ajax=new XMLHttpRequest;if(a.ajax){if(a.type==="GET"&&a.data){a.url+=(y.test(a.url)?"&":"?")+a.data;a.data=null}a.ajax.open(a.type,a.url,a.async);a.type==="POST"&&a.ajax.setRequestHeader("Content-Type",a.contentType);
a.ajax.send(a.data||null);return c.xhr.httpData(a)}}};c.xhr.httpData=function(a){var b,e=null,d,o=null;a.ajax.onreadystatechange=function(){if(a.ajax.readyState===4){try{e=JSON.parse(a.ajax.responseText)}catch(l){}b={xml:a.ajax.responseXML,text:a.ajax.responseText,json:e};if(!b.xml||!b.xml.documentElement){b.xml=null;try{d=new DOMParser;o=d.parseFromString(a.ajax.responseText,"text/xml");if(!o.getElementsByTagName("parsererror").length)b.xml=o}catch(q){}}if(a.dataType)b=b[a.dataType];a.success.call(a.ajax,
b)}};return b};c.xhr.getJSONP=function(a,b,e){var d=t.head||t.getElementsByTagName("head")[0]||t.documentElement,o=t.createElement("script"),l=false,q=[];q=/(=)\?(?=&|$)|\?\?/;var C,k;if(!e){k=a.match(/(callback=[^&]*)/);if(k!==null&&k.length){q=k[1].split("=")[1];if(q==="?")q="jsonp";C=c.guid(q);a=a.replace(/(callback=[^&]*)/,"callback="+C)}else{C=c.guid("jsonp");if(q.test(a))a=a.replace(q,"$1"+C);q=a.split(/\?(.+)?/);a=q[0]+"?";if(q[1])a+=q[1]+"&";a+="callback="+C}window[C]=function(N){b&&b(N);
l=true}}o.addEventListener("load",function(){e&&b&&b();l&&delete window[C];d.removeChild(o)},false);o.addEventListener("error",function(N){b&&b({error:N});e||delete window[C];d.removeChild(o)},false);o.src=a;d.insertBefore(o,d.firstChild)};c.getJSONP=c.xhr.getJSONP;c.getScript=c.xhr.getScript=function(a,b){return c.xhr.getJSONP(a,b,true)};c.util={toSeconds:function(a,b){var e=/^([0-9]+:){0,2}[0-9]+([.;][0-9]+)?$/,d,o,l;if(typeof a==="number")return a;typeof a==="string"&&!e.test(a)&&c.error("Invalid time format");
e=a.split(":");d=e.length-1;o=e[d];if(o.indexOf(";")>-1){o=o.split(";");l=0;if(b&&typeof b==="number")l=parseFloat(o[1],10)/b;e[d]=parseInt(o[0],10)+l}d=e[0];return{1:parseFloat(d,10),2:parseInt(d,10)*60+parseFloat(e[1],10),3:parseInt(d,10)*3600+parseInt(e[1],10)*60+parseFloat(e[2],10)}[e.length||1]}};c.p.cue=c.p.exec;c.protect={natives:function(a){return Object.keys?Object.keys(a):function(b){var e,d=[];for(e in b)A.call(b,e)&&d.push(e);return d}(a)}(c.p).map(function(a){return a.toLowerCase()})};
c.forEach({listen:"on",unlisten:"off",trigger:"emit",exec:"cue"},function(a,b){var e=c.p[b];c.p[b]=function(){if(typeof console!=="undefined"&&console.warn){console.warn("Deprecated method '"+b+"', "+(a==null?"do not use.":"use '"+a+"' instead."));c.p[b]=e}return c.p[a].apply(this,[].slice.call(arguments))}});j.Popcorn=c}else{j.Popcorn={isSupported:false};for(p="byId forEach extend effects error guid sizeOf isArray nop position disable enable destroyaddTrackEvent removeTrackEvent getTrackEvents getTrackEvent getLastTrackEventId timeUpdate plugin removePlugin compose effect xhr getJSONP getScript".split(/\s+/);p.length;)j.Popcorn[p.shift()]=
function(){}}})(window,window.document);(function(j,t){function s(p){p=typeof p==="string"?p:[p.language,p.region].join("-");var i=p.split("-");return{iso6391:p,language:i[0]||"",region:i[1]||""}}var m=j.navigator,g=s(m.userLanguage||m.language);t.locale={get:function(){return g},set:function(p){g=s(p);t.locale.broadcast();return g},broadcast:function(p){var i=t.instances,h=i.length,v=0,A;for(p=p||"locale:changed";v<h;v++){A=i[v];p in A.data.events&&A.trigger(p)}}}})(this,this.Popcorn);(function(j){var t=Object.prototype.hasOwnProperty;j.parsers={};j.parser=function(s,m,g){if(j.protect.natives.indexOf(s.toLowerCase())>=0)j.error("'"+s+"' is a protected function name");else{if(typeof m==="function"&&!g){g=m;m=""}if(!(typeof g!=="function"||typeof m!=="string")){var p={};p[s]=function(i,h,v){if(!i)return this;if(typeof h!=="function"&&!v){v=h;h=null}var A=this;j.xhr({url:i,dataType:m,success:function(n){var u,B,w=0;n=g(n,v).data||[];if(u=n.length){for(;w<u;w++){B=n[w];for(var E in B)t.call(B,
E)&&A[E]&&A[E](B[E])}h&&h()}}});return this};j.extend(j.p,p);return p}}}})(Popcorn);(function(j){var t=function(s,m){s=s||j.nop;m=m||j.nop;return function(){s.apply(this,arguments);m.apply(this,arguments)}};j.player=function(s,m){if(!j[s]){m=m||{};var g=function(p,i,h){h=h||{};var v=new Date/1E3,A=v,n=0,u=0,B=1,w=false,E={},L=typeof p==="string"?j.dom.find(p):p,H={};Object.prototype.__defineGetter__||(H=L||document.createElement("div"));for(var c in L)if(!(c in H))if(typeof L[c]==="object")H[c]=L[c];else if(typeof L[c]==="function")H[c]=function(y){return"length"in L[y]&&!L[y].call?
L[y]:function(){return L[y].apply(L,arguments)}}(c);else j.player.defineProperty(H,c,{get:function(y){return function(){return L[y]}}(c),set:j.nop,configurable:true});var I=function(){v=new Date/1E3;if(!H.paused){H.currentTime+=v-A;H.dispatchEvent("timeupdate");setTimeout(I,10)}A=v};H.play=function(){this.paused=false;if(H.readyState>=4){A=new Date/1E3;H.dispatchEvent("play");I()}};H.pause=function(){this.paused=true;H.dispatchEvent("pause")};j.player.defineProperty(H,"currentTime",{get:function(){return n},
set:function(y){n=+y;H.dispatchEvent("timeupdate");return n},configurable:true});j.player.defineProperty(H,"volume",{get:function(){return B},set:function(y){B=+y;H.dispatchEvent("volumechange");return B},configurable:true});j.player.defineProperty(H,"muted",{get:function(){return w},set:function(y){w=+y;H.dispatchEvent("volumechange");return w},configurable:true});j.player.defineProperty(H,"readyState",{get:function(){return u},set:function(y){return u=y},configurable:true});H.addEventListener=function(y,
P){E[y]||(E[y]=[]);E[y].push(P);return P};H.removeEventListener=function(y,P){var a,b=E[y];if(b){for(a=E[y].length-1;a>=0;a--)P===b[a]&&b.splice(a,1);return P}};H.dispatchEvent=function(y){var P,a=y.type;if(!a){a=y;if(y=j.events.getInterface(a)){P=document.createEvent(y);P.initEvent(a,true,true,window,1)}}if(E[a])for(y=E[a].length-1;y>=0;y--)E[a][y].call(this,P,this)};H.src=i||"";H.duration=0;H.paused=true;H.ended=0;h&&h.events&&j.forEach(h.events,function(y,P){H.addEventListener(P,y,false)});if(m._canPlayType(L.nodeName,
i)!==false)if(m._setup)m._setup.call(H,h);else{H.readyState=4;H.dispatchEvent("loadedmetadata");H.dispatchEvent("loadeddata");H.dispatchEvent("canplaythrough")}else setTimeout(function(){H.dispatchEvent("error")},0);p=new j.p.init(H,h);if(m._teardown)p.destroy=t(p.destroy,function(){m._teardown.call(H,h)});return p};g.canPlayType=m._canPlayType=m._canPlayType||j.nop;j[s]=j.player.registry[s]=g}};j.player.registry={};j.player.defineProperty=Object.defineProperty||function(s,m,g){s.__defineGetter__(m,
g.get||j.nop);s.__defineSetter__(m,g.set||j.nop)};j.player.playerQueue=function(){var s=[],m=false;return{next:function(){m=false;s.shift();s[0]&&s[0]()},add:function(g){s.push(function(){m=true;g&&g()});!m&&s[0]()}}};j.smart=function(s,m,g){var p=typeof s==="string"?j.dom.find(s):s,i,h,v,A,n,u="HTMLYouTubeVideoElement HTMLVimeoVideoElement HTMLSoundCloudAudioElement HTMLNullVideoElement".split(" ");if(p){m=typeof m==="string"?[m]:m;s=0;for(n=m.length;s<n;s++){i=m[s];for(h=0;h<u.length;h++)if((A=
j[u[h]])&&A._canPlaySrc(i)==="probably"){v=A(p);g=j(v,g);setTimeout(function(){v.src=i},0);return g}for(var B in j.player.registry)if(j.player.registry.hasOwnProperty(B))if(j.player.registry[B].canPlayType(p.nodeName,i))return j[B](p,i,g)}var w;B=j.guid("popcorn-video-");h=document.createElement("div");h.style.width="100%";h.style.height="100%";if(m.length===1){w=document.createElement("video");w.id=B;p.appendChild(w);setTimeout(function(){var E=document.createElement("div");E.innerHTML=m[0];w.src=
E.firstChild.nodeValue},0);return j("#"+B,g)}p.appendChild(h);u='<video id="'+B+'" preload=auto autobuffer>';s=0;for(n=m.length;s<n;s++)u+='<source src="'+m[s]+'">';u+="</video>";h.innerHTML=u;g&&g.events&&g.events.error&&p.addEventListener("error",g.events.error,false);return j("#"+B,g)}else j.error("Specified target `"+s+"` was not found.")}})(Popcorn);(function(j){document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("[data-timeline-sources]");j.forEach(t,function(s,m){var g=t[m],p,i,h;if(!g.id)g.id=j.guid("__popcorn");if(g.nodeType&&g.nodeType===1){h=j("#"+g.id);p=(g.getAttribute("data-timeline-sources")||"").split(",");p[0]&&j.forEach(p,function(v){i=v.split("!");if(i.length===1){i=v.match(/(.*)[\/\\]([^\/\\]+\.\w+)$/)[2].split(".");i[0]="parse"+i[1].toUpperCase();i[1]=v}p[0]&&h[i[0]]&&h[i[0]](i[1])});h.autoplay()&&
h.play()}})},false)})(Popcorn);(function(j,t){function s(g){var p=s.options;g=p.parser[p.strictMode?"strict":"loose"].exec(g);for(var i={},h=14;h--;)i[p.key[h]]=g[h]||"";i[p.q.name]={};i[p.key[12]].replace(p.q.parser,function(v,A,n){if(A)i[p.q.name][A]=n});return i}s.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var m={length:0,start:j.nop,end:j.nop};window.MediaError=window.MediaError||function(){function g(p,i){this.code=p||null;this.message=i||""}g.MEDIA_ERR_NONE_ACTIVE=0;g.MEDIA_ERR_ABORTED=1;g.MEDIA_ERR_NETWORK=2;g.MEDIA_ERR_DECODE=3;g.MEDIA_ERR_NONE_SUPPORTED=4;return g}();j._MediaElementProto=function(){var g=
{},p;Object.prototype.__defineGetter__||(g=t.createElement("div"));g._util={type:"HTML5",TIMEUPDATE_MS:250,MIN_WIDTH:300,MIN_HEIGHT:150,isAttributeSet:function(i){return typeof i==="string"||i===true},parseUri:s};g.addEventListener=function(i,h,v){t.addEventListener(this._eventNamespace+i,h,v)};g.removeEventListener=function(i,h,v){t.removeEventListener(this._eventNamespace+i,h,v)};g.dispatchEvent=function(i){var h=t.createEvent("CustomEvent");h.initCustomEvent(this._eventNamespace+i,false,false,
{type:i,target:this.parentNode,data:null});t.dispatchEvent(h)};g.load=j.nop;g.canPlayType=function(){return""};g.getBoundingClientRect=function(){return p.getBoundingClientRect()};g.NETWORK_EMPTY=0;g.NETWORK_IDLE=1;g.NETWORK_LOADING=2;g.NETWORK_NO_SOURCE=3;g.HAVE_NOTHING=0;g.HAVE_METADATA=1;g.HAVE_CURRENT_DATA=2;g.HAVE_FUTURE_DATA=3;g.HAVE_ENOUGH_DATA=4;Object.defineProperties(g,{currentSrc:{get:function(){return this.src!==undefined?this.src:""},configurable:true},parentNode:{get:function(){return p},
set:function(i){p=i},configurable:true},preload:{get:function(){return"auto"},set:j.nop,configurable:true},controls:{get:function(){return true},set:j.nop,configurable:true},poster:{get:function(){return""},set:j.nop,configurable:true},crossorigin:{get:function(){return""},configurable:true},played:{get:function(){return m},configurable:true},seekable:{get:function(){return m},configurable:true},buffered:{get:function(){return m},configurable:true},defaultMuted:{get:function(){return false},configurable:true},
defaultPlaybackRate:{get:function(){return 1},configurable:true},style:{get:function(){return this.parentNode.style},configurable:true},id:{get:function(){return this.parentNode.id},configurable:true}});return g}})(Popcorn,window.document);(function(j,t){function s(){return"maybe"}function m(g,p){var i=typeof g==="string"?t.querySelector(g):g,h=t.createElement(p);i.appendChild(h);h._canPlaySrc=s;return h}j.HTMLVideoElement=function(g){return m(g,"video")};j.HTMLVideoElement._canPlaySrc=s;j.HTMLAudioElement=function(g){return m(g,"audio")};j.HTMLAudioElement._canPlaySrc=s})(Popcorn,window.document);(function(j,t,s){function m(){if(t.jwplayer){v=true;for(var u=n.length;u--;){n[u]();delete n[u]}}else setTimeout(m,100)}function g(){if(!A){if(!t.jwplayer){var u=s.createElement("script");u.src="https://jwpsrv.com/library/zaIF4JI9EeK2FSIACpYGxA.js";var B=s.getElementsByTagName("script")[0];B.parentNode.insertBefore(u,B)}A=true;m()}return v}function p(u){n.unshift(u)}function i(u){function B(K){z.unshift(K)}function w(){var K=J.getDuration();if(K==-1||K==undefined)setTimeout(w,0);else{k.duration=K;
q.dispatchEvent("durationchange");N=true;k.readyState=q.HAVE_METADATA;q.dispatchEvent("loadedmetadata");q.dispatchEvent("loadeddata");k.readyState=q.HAVE_FUTURE_DATA;q.dispatchEvent("canplay");for(x=true;z.length;){z[0]();z.shift()}k.readyState=q.HAVE_ENOUGH_DATA;q.dispatchEvent("canplaythrough")}}function E(){if(r)r=false;else if(F){F=false;w()}else e()}function L(){if(k.seeking){k.ended=false;k.seeking=false;q.dispatchEvent("timeupdate");q.dispatchEvent("seeked");q.dispatchEvent("canplay");q.dispatchEvent("canplaythrough")}}
function H(){J.onPause(E);J.onTime(function(){if(!k.ended&&!k.seeking){k.currentTime=J.getPosition();q.dispatchEvent("timeupdate")}});J.onSeek(L);J.onPlay(function(){if(!k.ended)if(S){S=false;if(k.autoplay||!k.paused){k.paused=false;B(a);w()}else{f=F=true;J.pause(true)}}else if(f){f=false;r=true;J.pause(true)}else a()});J.onBufferChange(b);J.onComplete(d);J.play(true)}function c(K){var T={name:"MediaError"};T.message=K.message;T.code=K.code||5;k.error=T;q.dispatchEvent("error")}function I(K){if(q._canPlaySrc(K)){var T=
q._util.parseUri(K).queryKey;k.controls=T.controls=T.controls||k.controls;k.src=K;if(g()){if(N)N&&J&&J.destroy();T={width:"100%",height:"100%",autostart:k.autoplay,controls:k.controls};if(typeof K=="string")T.file=K;else T.sources=K;jwplayer(C.id).setup(T);J=jwplayer(C.id);J.onReady(H);J.onError(c);jwplayer.utils.log=function(D,V){if(typeof console!=="undefined"&&typeof console.log!=="undefined")V?console.log(D,V):console.log(D);D==="No suitable players found and fallback enabled"&&c({message:D,code:4})};
k.networkState=q.NETWORK_LOADING;q.dispatchEvent("loadstart");q.dispatchEvent("progress")}else p(function(){I(K)})}else{k.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};q.dispatchEvent("error")}}function y(K){k.currentTime=K;if(x){P();J.seek(K)}else B(function(){P();J.seek(K)})}function P(){k.seeking=true;if(k.paused)f=true;q.dispatchEvent("seeking")}function a(){k.paused=false;if(N&&M){M=false;if(k.loop&&!R||!k.loop){R=true;q.dispatchEvent("play")}q.dispatchEvent("playing")}}
function b(){q.dispatchEvent("progress")}function e(){k.paused=true;if(!M){M=true;q.dispatchEvent("pause")}}function d(){if(k.loop)y(0);else{k.ended=true;e();q.dispatchEvent("timeupdate");q.dispatchEvent("ended")}}function o(K){k.volume=K;if(x){J.setVolume(k.volume*100);q.dispatchEvent("volumechange")}else B(function(){o(k.volume)})}function l(K){k.muted=K;if(x){J.setMute(K);q.dispatchEvent("volumechange")}else B(function(){l(k.muted)})}if(!t.postMessage)throw"ERROR: HTMLJWPlayerVideoElement requires window.postMessage";
var q=new j._MediaElementProto,C=typeof u==="string"?s.querySelector(u):u,k={src:h,networkState:q.NETWORK_EMPTY,readyState:q.HAVE_NOTHING,seeking:false,autoplay:h,preload:h,controls:false,loop:false,poster:h,volume:1,muted:false,currentTime:0,duration:NaN,ended:false,paused:true,error:null},N=false,r=false,f=false,x=false,R=false,J,M=true,z=[],S=true,F=false;q._eventNamespace=j.guid("HTMLJWPlayerVideoElement::");q.parentNode=C;q._util.type="JWPlayer";q.play=function(){q.dispatchEvent("play");k.paused=
false;if(x){if(k.ended){y(0);k.ended=false}J.play(true)}else B(function(){q.play()})};q.pause=function(){k.paused=true;x?J.pause(true):B(function(){q.pause()})};Object.defineProperties(q,{src:{get:function(){return k.src},set:function(K){K&&K!==k.src&&I(K)}},autoplay:{get:function(){return k.autoplay},set:function(K){k.autoplay=q._util.isAttributeSet(K)}},loop:{get:function(){return k.loop},set:function(K){k.loop=q._util.isAttributeSet(K)}},width:{get:function(){return q.parentNode.offsetWidth}},
height:{get:function(){return q.parentNode.offsetHeight}},currentTime:{get:function(){return k.currentTime},set:function(K){y(K)}},duration:{get:function(){return J.getDuration()}},ended:{get:function(){return k.ended}},paused:{get:function(){return k.paused}},seeking:{get:function(){return k.seeking}},readyState:{get:function(){return k.readyState}},networkState:{get:function(){return k.networkState}},volume:{get:function(){return k.volume},set:function(K){if(K<0||K>1)throw"Volume value must be between 0.0 and 1.0";
o(K)}},muted:{get:function(){return k.muted},set:function(K){l(q._util.isAttributeSet(K))}},error:{get:function(){return k.error}},buffered:{get:function(){return{start:function(K){if(K===0)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1";},end:function(K){if(K===0){K=J.getDuration();if(!K)return 0;return K*(J.getBuffer()/100)}throw"INDEX_SIZE_ERR: DOM Exception 1";},length:1}}}});q._canPlaySrc=j.HTMLJWPlayerVideoElement._canPlaySrc;q.canPlayType=j.HTMLJWPlayerVideoElement.canPlayType;return q}var h=
"",v=false,A=false,n=[];j.HTMLJWPlayerVideoElement=function(u){return new i(u)};j.HTMLJWPlayerVideoElement._canPlaySrc=function(u){if(typeof u=="string"){if(/.+\.+/g.exec(u))return"probably"}else return"probably"};j.HTMLJWPlayerVideoElement.canPlayType=function(){return"probably"}})(Popcorn,window,document);(function(j,t){function s(i){this.startTime=0;this.currentTime=i.currentTime||0;this.duration=i.duration||NaN;this.playInterval=null;this.paused=true;this.playbackRate=this.defaultPlaybackRate=1;this.ended=i.endedCallback||j.nop}function m(i){function h(a){y.push(a)}function v(){if(!H)return 0;return c.currentTime}function A(a){if(a!==v())if(H){I.seeking=true;w.dispatchEvent("seeking");c.seekTo(a);I.ended=false;I.seeking=false;w.dispatchEvent("timeupdate");w.dispatchEvent("seeked");w.dispatchEvent("canplay");
w.dispatchEvent("canplaythrough")}else h(function(){A(a)})}function n(){w.dispatchEvent("timeupdate")}function u(){I.paused=true;clearInterval(P);w.dispatchEvent("pause")}function B(){if(I.loop){A(0);w.play()}else{I.ended=true;u();w.dispatchEvent("timeupdate");w.dispatchEvent("ended")}}var w=new j._MediaElementProto,E=typeof i==="string"?t.querySelector(i):i,L=t.createElement("div"),H=false,c,I={src:g,networkState:w.NETWORK_EMPTY,readyState:w.HAVE_NOTHING,autoplay:g,preload:g,controls:g,loop:false,
poster:g,volume:1,muted:false,width:E.width|0?E.width:w._util.MIN_WIDTH,height:E.height|0?E.height:w._util.MIN_HEIGHT,seeking:false,ended:false,paused:1,error:null},y=[],P;w._eventNamespace=j.guid("HTMLNullVideoElement::");w.parentNode=E;w._util.type="NullVideo";w.play=function(){if(H){c.play();if(I.paused){if(I.paused===1){I.paused=false;w.dispatchEvent("play");w.dispatchEvent("playing")}else{if(I.ended){A(0);I.ended=false}if(I.paused){I.paused=false;I.loop||w.dispatchEvent("play");w.dispatchEvent("playing")}}P=
setInterval(n,w._util.TIMEUPDATE_MS)}}else h(function(){w.play()})};w.pause=function(){if(H){c.pause();I.paused||u()}else h(function(){w.pause()})};Object.defineProperties(w,{src:{get:function(){return I.src},set:function(a){if(a&&a!==I.src)if(w._canPlaySrc(a)){I.src=a;if(H)if(H&&c){c.pause();c=null;E.removeChild(L);L=t.createElement("div")}L.width=I.width;L.height=I.height;E.appendChild(L);a=p.exec(a);c=new s({currentTime:+a[1],duration:+a[2],endedCallback:B});w.dispatchEvent("loadstart");w.dispatchEvent("progress");
w.dispatchEvent("durationchange");H=true;I.networkState=w.NETWORK_IDLE;I.readyState=w.HAVE_METADATA;w.dispatchEvent("loadedmetadata");w.dispatchEvent("loadeddata");I.readyState=w.HAVE_FUTURE_DATA;w.dispatchEvent("canplay");I.readyState=w.HAVE_ENOUGH_DATA;for(w.dispatchEvent("canplaythrough");y.length;){a=y.shift();a()}I.autoplay&&w.play()}else{I.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};w.dispatchEvent("error")}}},autoplay:{get:function(){return I.autoplay},
set:function(a){I.autoplay=w._util.isAttributeSet(a)}},loop:{get:function(){return I.loop},set:function(a){I.loop=w._util.isAttributeSet(a)}},width:{get:function(){return L.width},set:function(a){L.width=a;I.width=L.width}},height:{get:function(){return L.height},set:function(a){L.height=a;I.height=L.height}},currentTime:{get:function(){return v()},set:function(a){A(a)}},duration:{get:function(){return c?c.duration:NaN}},ended:{get:function(){return I.ended}},paused:{get:function(){return I.paused}},
seeking:{get:function(){return I.seeking}},readyState:{get:function(){return I.readyState}},networkState:{get:function(){return I.networkState}},volume:{get:function(){return I.volume},set:function(a){if(a<0||a>1)throw"Volume value must be between 0.0 and 1.0";I.volume=a;w.dispatchEvent("volumechange")}},muted:{get:function(){return I.muted},set:function(a){a=w._util.isAttributeSet(a);I.muted=a;w.dispatchEvent("volumechange")}},playbackRate:{get:function(){return c.playbackRate},set:function(a){c.playbackRate=
a;w.dispatchEvent("ratechange")}},error:{get:function(){return I.error}}});w._canPlaySrc=j.HTMLNullVideoElement._canPlaySrc;w.canPlayType=j.HTMLNullVideoElement.canPlayType;return w}var g="",p=/#t=(\d+\.?\d*)?,?(\d+\.?\d*)/;s.prototype={play:function(){var i=this;if(this.paused){this.paused=false;this.startTime=Date.now();this.playInterval=setInterval(function(){i.currentTime+=(Date.now()-i.startTime)/(1E3/i.playbackRate);i.startTime=Date.now();if(i.currentTime>=i.duration){i.pause(i.duration);i.ended()}i.currentTime<
0&&i.pause(0)},16)}},pause:function(){if(!this.paused){this.paused=true;clearInterval(this.playInterval)}},seekTo:function(i){i=i<0?0:i;this.currentTime=i=i>this.duration?this.duration:i}};j.HTMLNullVideoElement=function(i){return new m(i)};j.HTMLNullVideoElement._canPlaySrc=function(i){return p.test(i)?"probably":g};j.HTMLNullVideoElement.canPlayType=function(i){return i==="video/x-nullvideo"?"probably":g}})(Popcorn,document);(function(j,t,s){function m(){if(!A){j.getScript("https://w.soundcloud.com/player/api.js",function(){j.getScript("https://connect.soundcloud.com/sdk.js",function(){v=true;SC.initialize({client_id:"PRaNFlda6Bhf5utPjUsptg"});for(var u=n.length;u--;){n[u]();delete n[u]}})});A=true}return v}function g(u){n.unshift(u)}function p(u){function B(z){x.unshift(z)}function w(){f.bind(SC.Widget.Events.LOAD_PROGRESS,function(z){P({type:"loadProgress",data:z.currentPosition/1E3})});f.bind(SC.Widget.Events.PLAY_PROGRESS,
function(z){P({type:"playProgress",data:z.currentPosition/1E3})});f.bind(SC.Widget.Events.PLAY,function(){P({type:"play"})});f.bind(SC.Widget.Events.PAUSE,function(){P({type:"pause"})});f.bind(SC.Widget.Events.SEEK,function(){f.getPosition(function(z){z=z/1E3;if(k.seeking)if(Math.floor(z)!==Math.floor(k.currentTime))f.seekTo(k.currentTime*1E3);else{k.ended=false;k.seeking=false;l.dispatchEvent("timeupdate");l.dispatchEvent("seeked");l.dispatchEvent("canplay");l.dispatchEvent("canplaythrough")}else P({type:"seek",
data:z})})});f.bind(SC.Widget.Events.FINISH,function(){P({type:"finish"})});N=true;f.getDuration(L)}function E(){f.bind(SC.Widget.Events.PLAY_PROGRESS,function(z){f.setVolume(0);if(z.currentPosition>0){f.unbind(SC.Widget.Events.PLAY_PROGRESS);f.bind(SC.Widget.Events.PAUSE,function(){f.unbind(SC.Widget.Events.PAUSE);f.setVolume(1);f.bind(SC.Widget.Events.SEEK,function(){f.unbind(SC.Widget.Events.SEEK);w()});f.seekTo(0)});f.pause()}});f.play()}function L(z){z/=1E3;var S=k.duration;if(S!==z){k.duration=
z;l.dispatchEvent("durationchange");if(isNaN(S)){k.networkState=l.NETWORK_IDLE;k.readyState=l.HAVE_METADATA;l.dispatchEvent("loadedmetadata");l.dispatchEvent("loadeddata");k.readyState=l.HAVE_FUTURE_DATA;l.dispatchEvent("canplay");k.readyState=l.HAVE_ENOUGH_DATA;l.dispatchEvent("canplaythrough");for(z=x.length;z--;){x[z]();delete x[z]}k.paused&&k.autoplay&&l.play()}}}function H(z){function S(){k.seeking=true;l.dispatchEvent("seeking");f.seekTo(z)}k.currentTime=z;z*=1E3;N?S():addMediaReadyCallback(S)}
function c(){k.paused=true;if(!r){r=true;clearInterval(R);l.dispatchEvent("pause")}}function I(){l.dispatchEvent("timeupdate")}function y(z){k.currentTime=z;z!==M&&l.dispatchEvent("timeupdate");M=z}function P(z){switch(z.type){case "loadProgress":l.dispatchEvent("progress");break;case "playProgress":y(z.data);break;case "play":if(!J){J=setInterval(a,i);k.loop&&l.dispatchEvent("play")}R=setInterval(I,l._util.TIMEUPDATE_MS);k.paused=false;if(r){r=false;k.loop||l.dispatchEvent("play");l.dispatchEvent("playing")}break;
case "pause":c();break;case "finish":if(k.loop){H(0);l.play()}else{k.ended=true;l.pause();c();l.dispatchEvent("timeupdate");l.dispatchEvent("ended")}break;case "seek":y(z.data)}}function a(){k.ended||f.getPosition(function(z){y(z/1E3)})}function b(z){if(l._canPlaySrc(z)){k.src=z;if(N)if(N&&f){clearInterval(J);f.pause();f.unbind(SC.Widget.Events.READY);f.unbind(SC.Widget.Events.LOAD_PROGRESS);f.unbind(SC.Widget.Events.PLAY_PROGRESS);f.unbind(SC.Widget.Events.PLAY);f.unbind(SC.Widget.Events.PAUSE);
f.unbind(SC.Widget.Events.SEEK);f.unbind(SC.Widget.Events.FINISH);q.removeChild(C);C=s.createElement("iframe")}if(m()){N=false;SC.get("/resolve",{url:z},function(S){var F;if(S.errors){F={name:"MediaError"};if(S.errors[0])if(S.errors[0].error_message==="404 - Not Found"){F.message="Video not found.";F.code=MediaError.MEDIA_ERR_NETWORK}k.error=F;l.dispatchEvent("error")}C.id=j.guid("soundcloud-");C.width=k.width;C.height=k.height;C.frameBorder=0;C.webkitAllowFullScreen=true;C.mozAllowFullScreen=true;
C.allowFullScreen=true;o(k.controls);q.appendChild(C);C.onload=function(){C.onload=null;f=SC.Widget(C);f.bind(SC.Widget.Events.READY,E);k.networkState=l.NETWORK_LOADING;l.dispatchEvent("loadstart");l.dispatchEvent("progress")};C.src="https://w.soundcloud.com/player/?url="+S.uri+"&show_artwork=false&buying=false&liking=false&sharing=false&download=false&show_comments=false&show_user=false&single_active=false"})}else g(function(){b(z)})}else{k.error={name:"MediaError",message:"Media Source Not Supported",
code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};l.dispatchEvent("error")}}function e(z){k.volume=z;if(N){f.setVolume(z);l.dispatchEvent("volumechange")}else B(function(){e(z)})}function d(z){if(N)if(z){k.muted=k.volume;e(0)}else{k.muted=0;e(k.muted)}else{k.muted=z?1:0;B(function(){d(z)})}}function o(z){if(N){C.style.position="absolute";C.style.visibility=z?"visible":"hidden"}else{C.style.opacity=z?"1":"0";C.style.pointerEvents=z?"auto":"none"}k.controls=z}if(!t.postMessage)throw"ERROR: HTMLSoundCloudAudioElement requires window.postMessage";
var l=new j._MediaElementProto,q=typeof u==="string"?j.dom.find(u):u,C=s.createElement("iframe"),k={src:h,networkState:l.NETWORK_EMPTY,readyState:l.HAVE_NOTHING,seeking:false,autoplay:h,preload:h,controls:false,loop:false,poster:h,volume:1,muted:0,currentTime:0,duration:NaN,ended:false,paused:true,width:q.width|0?q.width:l._util.MIN_WIDTH,height:q.height|0?q.height:l._util.MIN_HEIGHT,error:null},N=false,r=true,f,x=[],R,J,M=0;l._eventNamespace=j.guid("HTMLSoundCloudAudioElement::");l.parentNode=q;
l._util.type="SoundCloud";l.play=function(){k.paused=false;if(N){k.ended&&H(0);f.play()}else B(function(){l.play()})};l.pause=function(){k.paused=true;N?f.pause():B(function(){l.pause()})};Object.defineProperties(l,{src:{get:function(){return k.src},set:function(z){z&&z!==k.src&&b(z)}},autoplay:{get:function(){return k.autoplay},set:function(z){k.autoplay=l._util.isAttributeSet(z)}},loop:{get:function(){return k.loop},set:function(z){k.loop=l._util.isAttributeSet(z)}},width:{get:function(){return C.width},
set:function(z){C.width=z;k.width=C.width}},height:{get:function(){return C.height},set:function(z){C.height=z;k.height=C.height}},currentTime:{get:function(){return k.currentTime},set:function(z){H(z)}},duration:{get:function(){return k.duration}},ended:{get:function(){return k.ended}},paused:{get:function(){return k.paused}},seeking:{get:function(){return k.seeking}},readyState:{get:function(){return k.readyState}},networkState:{get:function(){return k.networkState}},volume:{get:function(){return k.muted>
0?k.muted:k.volume},set:function(z){if(z<0||z>1)throw"Volume value must be between 0.0 and 1.0";e(z)}},muted:{get:function(){return k.muted>0},set:function(z){d(l._util.isAttributeSet(z))}},error:{get:function(){return k.error}},controls:{get:function(){return k.controls},set:function(z){o(!!z)}}});l._canPlaySrc=j.HTMLSoundCloudAudioElement._canPlaySrc;l.canPlayType=j.HTMLSoundCloudAudioElement.canPlayType;return l}var i=16,h="",v=false,A=false,n=[];j.HTMLSoundCloudAudioElement=function(u){return new p(u)};
j.HTMLSoundCloudAudioElement._canPlaySrc=function(u){return/(?:https?:\/\/www\.|https?:\/\/|www\.|\.|^)(soundcloud)/.test(u)?"probably":h};j.HTMLSoundCloudAudioElement.canPlayType=function(u){return u==="audio/x-soundcloud"?"probably":h}})(Popcorn,window,document);(function(j,t,s){function m(v){var A=this,n=v.src.split("?")[0];if(n.substr(0,2)==="//")n=t.location.protocol+n;"play pause paused seekTo unload getCurrentTime getDuration getVideoEmbedCode getVideoHeight getVideoWidth getVideoUrl getColor setColor setLoop getVolume setVolume addEventListener".split(" ").forEach(function(u){A[u]=function(B){B=JSON.stringify({method:u,value:B});v.contentWindow&&v.contentWindow.postMessage(B,n)}})}function g(v){function A(r){q.unshift(r)}function n(r){var f=b.duration;
if(f!==r){b.duration=r;y.dispatchEvent("durationchange");if(isNaN(f)){b.networkState=y.NETWORK_IDLE;b.readyState=y.HAVE_METADATA;y.dispatchEvent("loadedmetadata");y.dispatchEvent("loadeddata");b.readyState=y.HAVE_FUTURE_DATA;y.dispatchEvent("canplay");b.readyState=y.HAVE_ENOUGH_DATA;y.dispatchEvent("canplaythrough");b.autoplay&&y.play();for(r=q.length;r--;){q[r]();delete q[r]}}}}function u(r){if(e){b.seeking=true;y.dispatchEvent("seeking");o.seekTo(r)}else A(function(){u(r)})}function B(){y.dispatchEvent("timeupdate")}
function w(r){(b.currentTime=r)!==N&&y.dispatchEvent("timeupdate");N=b.currentTime}function E(r){if(r.origin===h){var f;try{f=JSON.parse(r.data)}catch(x){console.warn(x)}if(f.player_id==d)switch(f.event){case "ready":o=new m(a);o.addEventListener("loadProgress");o.addEventListener("pause");o.setVolume(0);o.play();break;case "loadProgress":if(parseFloat(f.data.duration)>0&&!e){e=true;o.pause()}break;case "pause":o.setVolume(1);t.removeEventListener("message",E,false);t.addEventListener("message",L,
false);o.addEventListener("loadProgress");o.addEventListener("playProgress");o.addEventListener("play");o.addEventListener("pause");o.addEventListener("finish");o.addEventListener("seek");o.getDuration();b.networkState=y.NETWORK_LOADING;y.dispatchEvent("loadstart");y.dispatchEvent("progress")}}}function L(r){if(r.origin===h){var f;try{f=JSON.parse(r.data)}catch(x){console.warn(x)}if(f.player_id==d){switch(f.method){case "getCurrentTime":w(parseFloat(f.value));break;case "getDuration":n(parseFloat(f.value));
break;case "getVolume":r=parseFloat(f.value);if(b.volume!==r){b.volume=r;y.dispatchEvent("volumechange")}}switch(f.event){case "loadProgress":y.dispatchEvent("progress");n(parseFloat(f.data.duration));break;case "playProgress":w(parseFloat(f.data.seconds));break;case "play":b.ended&&u(0);if(!k){k=setInterval(H,p);b.loop&&y.dispatchEvent("play")}C=setInterval(B,y._util.TIMEUPDATE_MS);b.paused=false;if(l){l=false;b.loop||y.dispatchEvent("play");y.dispatchEvent("playing")}break;case "pause":b.paused=
true;if(!l){l=true;clearInterval(C);y.dispatchEvent("pause")}break;case "finish":if(b.loop){u(0);y.play()}else{b.ended=true;y.dispatchEvent("ended")}break;case "seek":w(parseFloat(f.data.seconds));b.seeking=false;y.dispatchEvent("timeupdate");y.dispatchEvent("seeked");y.dispatchEvent("canplay");y.dispatchEvent("canplaythrough")}}}}function H(){o.getCurrentTime()}function c(r){b.volume=r;if(e){o.setVolume(r);y.dispatchEvent("volumechange")}else A(function(){c(r)})}function I(r){if(e)if(r){b.muted=
b.volume;c(0)}else{b.muted=0;c(b.muted)}else{b.muted=r?1:0;A(function(){I(r)})}}if(!t.postMessage)throw"ERROR: HTMLVimeoVideoElement requires window.postMessage";var y=new j._MediaElementProto,P=typeof v==="string"?j.dom.find(v):v,a=s.createElement("iframe"),b={src:i,networkState:y.NETWORK_EMPTY,readyState:y.HAVE_NOTHING,seeking:false,autoplay:i,preload:i,controls:false,loop:false,poster:i,volume:1,muted:0,currentTime:0,duration:NaN,ended:false,paused:true,error:null},e=false,d=j.guid(),o,l=true,
q=[],C,k,N=0;y._eventNamespace=j.guid("HTMLVimeoVideoElement::");y.parentNode=P;y._util.type="Vimeo";y.play=function(){b.paused=false;e?o.play():A(function(){y.play()})};y.pause=function(){b.paused=true;e?o.pause():A(function(){y.pause()})};Object.defineProperties(y,{src:{get:function(){return b.src},set:function(r){if(r&&r!==b.src)if(y._canPlaySrc(r)){b.src=r;if(e)if(e&&o){clearInterval(k);o.pause();t.removeEventListener("message",L,false);P.removeChild(a);a=s.createElement("iframe")}e=false;r=y._util.parseUri(r);
var f=r.queryKey,x,R=["api=1","player_id="+d,"title=0","byline=0","portrait=0"];b.loop=f.loop==="1"||b.loop;delete f.loop;b.autoplay=f.autoplay==="1"||b.autoplay;delete f.autoplay;r=h+"/video/"+/\d+$/.exec(r.path)+"?";for(x in f)f.hasOwnProperty(x)&&R.push(encodeURIComponent(x)+"="+encodeURIComponent(f[x]));r+=R.join("&");a.id=d;a.style.width="100%";a.style.height="100%";a.frameBorder=0;a.webkitAllowFullScreen=true;a.mozAllowFullScreen=true;a.allowFullScreen=true;P.appendChild(a);a.src=r;t.addEventListener("message",
E,false)}else{b.error={name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};y.dispatchEvent("error")}}},autoplay:{get:function(){return b.autoplay},set:function(r){b.autoplay=y._util.isAttributeSet(r)}},loop:{get:function(){return b.loop},set:function(r){b.loop=y._util.isAttributeSet(r)}},width:{get:function(){return y.parentNode.offsetWidth}},height:{get:function(){return y.parentNode.offsetHeight}},currentTime:{get:function(){return b.currentTime},
set:function(r){u(r)}},duration:{get:function(){return b.duration}},ended:{get:function(){return b.ended}},paused:{get:function(){return b.paused}},seeking:{get:function(){return b.seeking}},readyState:{get:function(){return b.readyState}},networkState:{get:function(){return b.networkState}},volume:{get:function(){return b.muted>0?b.muted:b.volume},set:function(r){if(r<0||r>1)throw"Volume value must be between 0.0 and 1.0";c(r)}},muted:{get:function(){return b.muted>0},set:function(r){I(y._util.isAttributeSet(r))}},
error:{get:function(){return b.error}}});y._canPlaySrc=j.HTMLVimeoVideoElement._canPlaySrc;y.canPlayType=j.HTMLVimeoVideoElement.canPlayType;return y}var p=16,i="",h="https://player.vimeo.com";j.HTMLVimeoVideoElement=function(v){return new g(v)};j.HTMLVimeoVideoElement._canPlaySrc=function(v){return/player.vimeo.com\/video\/\d+/.test(v)||/vimeo.com\/\d+/.test(v)?"probably":i};j.HTMLVimeoVideoElement.canPlayType=function(v){return v==="video/x-vimeo"?"probably":i}})(Popcorn,window,document);(function(j,t,s){function m(){var E;if(YT.loaded)for(u=true;w.length;){E=w.shift();E()}else setTimeout(m,250)}function g(){var E;if(!B){if(t.YT)m();else{E=s.createElement("script");E.addEventListener("load",m,false);E.src="https://www.youtube.com/iframe_api";s.head.appendChild(E)}B=true}return u}function p(E){w.push(E)}function i(E){function L(G){W.push(G)}function H(){Q.pauseVideo();d("play",H);e("play",J)}function c(){e("pause",M);d("pause",c)}function I(){var G=function(){if(Q.isMuted()){e("play",
b);Q.playVideo()}else setTimeout(G,0)};V=true;Q.mute();G()}function y(G){var O={name:"MediaError"};switch(G.data){case 2:O.message="Invalid video parameter.";O.code=MediaError.MEDIA_ERR_ABORTED;break;case 5:O.message="The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.";O.code=MediaError.MEDIA_ERR_DECODE;case 100:O.message="Video not found.";O.code=MediaError.MEDIA_ERR_NETWORK;break;case 101:case 150:O.message="Video not usable.";O.code=
MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED;break;default:O.message="Unknown error.";O.code=5}D.error=O;F.dispatchEvent("error")}function P(){e("play",J);e("pause",M);if(D.autoplay||!D.paused){d("play",P);D.paused=false;L(function(){D.paused||J()})}D.muted||Q.unMute();D.readyState=F.HAVE_METADATA;F.dispatchEvent("loadedmetadata");$=setInterval(k,h);F.dispatchEvent("loadeddata");D.readyState=F.HAVE_FUTURE_DATA;F.dispatchEvent("canplay");U=true;for(aa=setInterval(N,50);W.length;){W[0]();W.shift()}D.readyState=
F.HAVE_ENOUGH_DATA;F.dispatchEvent("canplaythrough")}function a(){d("pause",a);if(Q.getCurrentTime()>0)setTimeout(a,0);else if(D.autoplay||!D.paused){e("play",P);Q.playVideo()}else P()}function b(){d("play",b);if(Q.getCurrentTime()===0)setTimeout(b,0);else{e("pause",a);Q.seekTo(0);Q.pauseVideo()}}function e(G,O){F.addEventListener("youtube-"+G,O,false)}function d(G,O){F.removeEventListener("youtube-"+G,O,false)}function o(G){F.dispatchEvent("youtube-"+G)}function l(){D.networkState=F.NETWORK_LOADING;
var G=Q.getDuration();if(D.duration!==G){D.duration=G;F.dispatchEvent("durationchange")}F.dispatchEvent("waiting")}function q(G){switch(G.data){case YT.PlayerState.ENDED:o("ended");break;case YT.PlayerState.PLAYING:o("play");break;case YT.PlayerState.PAUSED:Q.getDuration()!==Q.getCurrentTime()&&o("pause");break;case YT.PlayerState.BUFFERING:o("buffering")}G.data!==YT.PlayerState.BUFFERING&&ba===YT.PlayerState.BUFFERING&&F.dispatchEvent("progress");ba=G.data}function C(G){if(F._canPlaySrc(G)){D.src=
G;if(g()){if(V)if(U){if(V&&Q){d("buffering",l);d("ended",z);d("play",J);d("pause",M);M();Y=U=false;D.currentTime=0;W=[];clearInterval($);clearInterval(aa);Q.stopVideo();Q.clearVideo();Q.destroy();T=s.createElement("div")}}else{L(function(){C(G)});return}K.appendChild(T);var O=F._util.parseUri(G).queryKey;delete O.v;D.autoplay=O.autoplay==="1"||D.autoplay;delete O.autoplay;D.loop=O.loop==="1"||D.loop;delete O.loop;O.rel=O.rel||0;O.modestbranding=O.modestbranding||1;O.iv_load_policy=O.iv_load_policy||
3;O.disablekb=O.disablekb||1;O.showinfo=O.showinfo||0;var da=t.location.protocol==="file:"?"*":t.location.protocol+"//"+t.location.host;O.origin=O.origin||da;O.controls=O.controls||D.controls?2:0;D.controls=O.controls;O.wmode=O.wmode||"opaque";if(O.html5!==0)O.html5=1;G=A.exec(G)[1];Q=new YT.Player(T,{width:"100%",height:"100%",wmode:O.wmode,videoId:G,playerVars:O,events:{onReady:I,onError:y,onStateChange:q}});D.networkState=F.NETWORK_LOADING;F.dispatchEvent("loadstart");F.dispatchEvent("progress")}else p(function(){C(G)})}else{D.error=
{name:"MediaError",message:"Media Source Not Supported",code:MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED};F.dispatchEvent("error")}}function k(){var G=Q.getCurrentTime();if(D.seeking)n(G-D.currentTime)<1&&R();else{if(n(D.currentTime-G)>h){x();R()}D.currentTime=G}}function N(){var G=Q.getVideoLoadedFraction();if(G&&Z!==G){Z=G;F.dispatchEvent("progress")}}function r(G){if(G!==D.currentTime){D.currentTime=G;if(U){x();Q.seekTo(G)}else L(function(){x();Q.seekTo(G)})}}function f(){F.dispatchEvent("timeupdate")}
function x(){e("pause",c);d("pause",M);D.seeking=true;F.dispatchEvent("seeking")}function R(){D.ended=false;D.seeking=false;F.dispatchEvent("timeupdate");F.dispatchEvent("seeked");F.dispatchEvent("canplay");F.dispatchEvent("canplaythrough")}function J(){if(D.ended){r(0);D.ended=false}ca=setInterval(f,F._util.TIMEUPDATE_MS);D.paused=false;if(X){X=false;if(D.loop&&!Y||!D.loop){Y=true;F.dispatchEvent("play")}F.dispatchEvent("playing")}}function M(){D.paused=true;if(!X){X=true;clearInterval(ca);F.dispatchEvent("pause")}}
function z(){if(D.loop){r(0);F.play()}else{D.ended=true;M();e("play",H);d("play",J);F.dispatchEvent("timeupdate");F.dispatchEvent("ended")}}function S(G){D.muted=G;if(U){Q[G?"mute":"unMute"]();F.dispatchEvent("volumechange")}else L(function(){S(D.muted)})}if(!t.postMessage)throw"ERROR: HTMLYouTubeVideoElement requires window.postMessage";var F=new j._MediaElementProto,K=typeof E==="string"?s.querySelector(E):E,T=s.createElement("div"),D={src:v,networkState:F.NETWORK_EMPTY,readyState:F.HAVE_NOTHING,
seeking:false,autoplay:v,preload:v,controls:false,loop:false,poster:v,volume:1,muted:false,currentTime:0,duration:NaN,ended:false,paused:true,error:null},V=false,U=false,Y=false,Q,X=true,W=[],ba=-1,aa,Z=0,$,ca;F._eventNamespace=j.guid("HTMLYouTubeVideoElement::");F.parentNode=K;F._util.type="YouTube";e("buffering",l);e("ended",z);F.play=function(){D.paused=false;U?Q.playVideo():L(function(){F.play()})};F.pause=function(){D.paused=true;if(U){c();Q.pauseVideo()}else L(function(){F.pause()})};Object.defineProperties(F,
{src:{get:function(){return D.src},set:function(G){G&&G!==D.src&&C(G)}},autoplay:{get:function(){return D.autoplay},set:function(G){D.autoplay=F._util.isAttributeSet(G)}},loop:{get:function(){return D.loop},set:function(G){D.loop=F._util.isAttributeSet(G)}},width:{get:function(){return F.parentNode.offsetWidth}},height:{get:function(){return F.parentNode.offsetHeight}},currentTime:{get:function(){return D.currentTime},set:function(G){r(G)}},duration:{get:function(){return D.duration}},ended:{get:function(){return D.ended}},
paused:{get:function(){return D.paused}},seeking:{get:function(){return D.seeking}},readyState:{get:function(){return D.readyState}},networkState:{get:function(){return D.networkState}},volume:{get:function(){return D.volume},set:function(G){if(G<0||G>1)throw"Volume value must be between 0.0 and 1.0";D.volume=G;if(U){Q.setVolume(D.volume*100);F.dispatchEvent("volumechange")}else L(function(){F.volume=G})}},muted:{get:function(){return D.muted},set:function(G){S(F._util.isAttributeSet(G))}},error:{get:function(){return D.error}},
buffered:{get:function(){return{start:function(G){if(G===0)return 0;throw"INDEX_SIZE_ERR: DOM Exception 1";},end:function(G){if(G===0){if(!D.duration)return 0;return D.duration*Z}throw"INDEX_SIZE_ERR: DOM Exception 1";},length:1}},configurable:true}});F._canPlaySrc=j.HTMLYouTubeVideoElement._canPlaySrc;F.canPlayType=j.HTMLYouTubeVideoElement.canPlayType;return F}var h=10,v="",A=/^.*(?:\/|v=)(.{11})/,n=Math.abs,u=false,B=false,w=[];j.HTMLYouTubeVideoElement=function(E){return new i(E)};j.HTMLYouTubeVideoElement._canPlaySrc=
function(E){return/(?:http:\/\/www\.|http:\/\/|www\.|\.|^)(youtu).*(?:\/|v=)(.{11})/.test(E)?"probably":v};j.HTMLYouTubeVideoElement.canPlayType=function(E){return E==="video/x-youtube"?"probably":v}})(Popcorn,window,document);(function(j){var t=function(s,m){var g=0,p=0,i;j.forEach(m.classes,function(h,v){i=[];if(h==="parent")i[0]=document.querySelectorAll("#"+m.target)[0].parentNode;else i=document.querySelectorAll("#"+m.target+" "+h);g=0;for(p=i.length;g<p;g++)i[g].classList.toggle(v)})};j.compose("applyclass",{manifest:{about:{name:"Popcorn applyclass Effect",version:"0.1",author:"@scottdowne",website:"scottdowne.wordpress.com"},options:{}},_setup:function(s){s.classes={};s.applyclass=s.applyclass||"";for(var m=s.applyclass.replace(/\s/g,
"").split(","),g=[],p=0,i=m.length;p<i;p++){g=m[p].split(":");if(g[0])s.classes[g[0]]=g[1]||""}},start:t,end:t})})(Popcorn);(function(j){j.parser("parseJSON","JSON",function(t){var s={title:"",remote:"",data:[]};j.forEach(t.data,function(m){s.data.push(m)});return s})})(Popcorn);(function(j){j.parser("parseSBV",function(t){var s={title:"",remote:"",data:[]},m=[],g=0,p=0,i=function(B){B=B.split(":");var w=B.length-1,E;try{E=parseInt(B[w-1],10)*60+parseFloat(B[w],10);if(w===2)E+=parseInt(B[0],10)*3600}catch(L){throw"Bad cue";}return E},h=function(B,w){var E={};E[B]=w;return E};t=t.text.split(/(?:\r\n|\r|\n)/gm);for(p=t.length;g<p;){var v={},A=[],n=t[g++].split(",");try{v.start=i(n[0]);for(v.end=i(n[1]);g<p&&t[g];)A.push(t[g++]);v.text=A.join("<br />");m.push(h("subtitle",v))}catch(u){for(;g<
p&&t[g];)g++}for(;g<p&&!t[g];)g++}s.data=m;return s})})(Popcorn);(function(j){function t(m,g){var p={};p[m]=g;return p}function s(m){m=m.split(":");try{var g=m[2].split(",");if(g.length===1)g=m[2].split(".");return parseFloat(m[0],10)*3600+parseFloat(m[1],10)*60+parseFloat(g[0],10)+parseFloat(g[1],10)/1E3}catch(p){return 0}}j.parser("parseSRT",function(m,g){var p={title:"",remote:"",data:[]},i=[],h=0,v=0,A,n,u,B,w;A=m.text.split(/(?:\r\n|\r|\n)/gm);for(u=A.length-1;u>=0&&!A[u];)u--;B=u+1;for(h=0;h<B;h++){w={};u=[];for(h=h;!A[h];)h++;h=h;w.id=parseInt(A[h++],10);
n=A[h++].split(/[\t ]*--\>[\t ]*/);w.start=s(n[0]);v=n[1].indexOf(" ");if(v!==-1)n[1]=n[1].substr(0,v);for(w.end=s(n[1]);h<B&&A[h];)u.push(A[h++]);w.text=u.join("\\N").replace(/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,"");w.text=w.text.replace(/</g,"&lt;").replace(/>/g,"&gt;");w.text=w.text.replace(/&lt;(\/?(font|b|u|i|s))((\s+(\w|\w[\w\-]*\w)(\s*=\s*(?:\".*?\"|'.*?'|[^'\">\s]+))?)+\s*|\s*)(\/?)&gt;/gi,"<$1$3$7>");w.text=w.text.replace(/\\N/gi,"<br />");if(g&&g.target)w.target=g.target;i.push(t("subtitle",
w))}p.data=i;return p})})(Popcorn);(function(j){function t(g,p){var i=g.substr(10).split(","),h;h={start:s(i[p.start]),end:s(i[p.end])};if(h.start===-1||h.end===-1)throw"Invalid time";var v=B.call(n,/\{(\\[\w]+\(?([\w\d]+,?)+\)?)+\}/gi,""),A=v.replace,n;n=i.length;B=[];for(var u=p.text;u<n;u++)B.push(i[u]);n=B.join(",");var B=n.replace;h.text=A.call(v,/\\N/gi,"<br />");return h}function s(g){var p=g.split(":");if(g.length!==10||p.length<3)return-1;return parseInt(p[0],10)*3600+parseInt(p[1],10)*60+parseFloat(p[2],10)}function m(g,
p){var i={};i[g]=p;return i}j.parser("parseSSA",function(g){var p={title:"",remote:"",data:[]},i=[],h=0,v;g=g.text.split(/(?:\r\n|\r|\n)/gm);for(v=g.length;h<v&&g[h]!=="[Events]";)h++;var A=g[++h].substr(8).split(", "),n={},u,B;B=0;for(u=A.length;B<u;B++)if(A[B]==="Start")n.start=B;else if(A[B]==="End")n.end=B;else if(A[B]==="Text")n.text=B;for(;++h<v&&g[h]&&g[h][0]!=="[";)try{i.push(m("subtitle",t(g[h],n)))}catch(w){}p.data=i;return p})})(Popcorn);(function(j){function t(h,v,A){var n=h.firstChild;h=s(h,A);A=[];for(var u;n;){if(n.nodeType===1)if(n.nodeName==="p")A.push(m(n,v,h));else if(n.nodeName==="div"){u=g(n.getAttribute("begin"));if(u<0)u=v;A.push.apply(A,t(n,u,h))}n=n.nextSibling}return A}function s(h,v){var A=h.getAttribute("region");return A!==null?A:v||""}function m(h,v,A){var n={};n.text=(h.textContent||h.text).replace(p,"").replace(i,"<br />");n.id=h.getAttribute("xml:id")||h.getAttribute("id");n.start=g(h.getAttribute("begin"),v);
n.end=g(h.getAttribute("end"),v);n.target=s(h,A);if(n.end<0){n.end=g(h.getAttribute("duration"),0);if(n.end>=0)n.end+=n.start;else n.end=Number.MAX_VALUE}return{subtitle:n}}function g(h,v){var A;if(!h)return-1;try{return j.util.toSeconds(h)}catch(n){for(var u=h.length-1;u>=0&&h[u]<="9"&&h[u]>="0";)u--;A=u;u=parseFloat(h.substring(0,A));A=h.substring(A);return u*({h:3600,m:60,s:1,ms:0.001}[A]||-1)+(v||0)}}var p=/^[\s]+|[\s]+$/gm,i=/(?:\r\n|\r|\n)/gm;j.parser("parseTTML",function(h){var v={title:"",
remote:"",data:[]};if(!h.xml||!h.xml.documentElement)return v;h=h.xml.documentElement.firstChild;if(!h)return v;for(;h.nodeName!=="body";)h=h.nextSibling;if(h)v.data=t(h,0);return v})})(Popcorn);(function(j){j.parser("parseTTXT",function(t){var s={title:"",remote:"",data:[]},m=function(v){v=v.split(":");var A=0;try{return parseFloat(v[0],10)*60*60+parseFloat(v[1],10)*60+parseFloat(v[2],10)}catch(n){A=0}return A},g=function(v,A){var n={};n[v]=A;return n};t=t.xml.lastChild.lastChild;for(var p=Number.MAX_VALUE,i=[];t;){if(t.nodeType===1&&t.nodeName==="TextSample"){var h={};h.start=m(t.getAttribute("sampleTime"));h.text=t.getAttribute("text");if(h.text){h.end=p-0.001;i.push(g("subtitle",h))}p=
h.start}t=t.previousSibling}s.data=i.reverse();return s})})(Popcorn);(function(j){function t(m){var g=m.split(":");m=m.length;var p;if(m!==12&&m!==9)throw"Bad cue";m=g.length-1;try{p=parseInt(g[m-1],10)*60+parseFloat(g[m],10);if(m===2)p+=parseInt(g[0],10)*3600}catch(i){throw"Bad cue";}return p}function s(m,g){var p={};p[m]=g;return p}j.parser("parseVTT",function(m){var g={title:"",remote:"",data:[]},p=[],i=0,h=0,v,A;m=m.text.split(/(?:\r\n|\r|\n)/gm);h=m.length;if(h===0||m[0]!=="WEBVTT")return g;for(i++;i<h;){v=[];try{for(var n=i;n<h&&!m[n];)n++;i=n;var u=m[i++];n=
void 0;var B={};if(!u||u.indexOf("--\>")===-1)throw"Bad cue";n=u.replace(/--\>/," --\> ").split(/[\t ]+/);if(n.length<2)throw"Bad cue";B.id=u;B.start=t(n[0]);B.end=t(n[2]);for(A=B;i<h&&m[i];)v.push(m[i++]);A.text=v.join("<br />");p.push(s("subtitle",A))}catch(w){for(i=i;i<h&&m[i];)i++;i=i}}g.data=p;return g})})(Popcorn);(function(j){j.parser("parseXML","XML",function(t){var s={title:"",remote:"",data:[]},m={},g=function(n){n=n.split(":");if(n.length===1)return parseFloat(n[0],10);else if(n.length===2)return parseFloat(n[0],10)+parseFloat(n[1]/12,10);else if(n.length===3)return parseInt(n[0]*60,10)+parseFloat(n[1],10)+parseFloat(n[2]/12,10);else if(n.length===4)return parseInt(n[0]*3600,10)+parseInt(n[1]*60,10)+parseFloat(n[2],10)+parseFloat(n[3]/12,10)},p=function(n){for(var u={},B=0,w=n.length;B<w;B++){var E=n.item(B).nodeName,
L=n.item(B).nodeValue,H=m[L];if(E==="in")u.start=g(L);else if(E==="out")u.end=g(L);else if(E==="resourceid")for(var c in H){if(H.hasOwnProperty(c))if(!u[c]&&c!=="id")u[c]=H[c]}else u[E]=L}return u},i=function(n,u){var B={};B[n]=u;return B},h=function(n,u,B){var w={};j.extend(w,u,p(n.attributes),{text:n.textContent||n.text});u=n.childNodes;if(u.length<1||u.length===1&&u[0].nodeType===3)if(B)m[w.id]=w;else s.data.push(i(n.nodeName,w));else for(n=0;n<u.length;n++)u[n].nodeType===1&&h(u[n],w,B)};t=t.documentElement.childNodes;
for(var v=0,A=t.length;v<A;v++)if(t[v].nodeType===1)t[v].nodeName==="manifest"?h(t[v],{},true):h(t[v],{},false);return s})})(Popcorn);(function(j,t){t.player("soundcloud",{_canPlayType:function(s,m){return typeof m==="string"&&t.HTMLSoundCloudAudioElement._canPlaySrc(m)&&s.toLowerCase()!=="audio"}});t.soundcloud=function(s,m,g){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'soundcloud'. Please use Popcorn.HTMLSoundCloudAudioElement directly.");var p=t.HTMLSoundCloudAudioElement(s);s=t(p,g);setTimeout(function(){p.src=m},0);return s}})(window,Popcorn);(function(j,t){t.player("vimeo",{_canPlayType:function(s,m){return typeof m==="string"&&t.HTMLVimeoVideoElement._canPlaySrc(m)}});t.vimeo=function(s,m,g){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'vimeo'. Please use Popcorn.HTMLVimeoVideoElement directly.");var p=t.HTMLVimeoVideoElement(s);s=t(p,g);setTimeout(function(){p.src=m},0);return s}})(window,Popcorn);(function(j,t){var s=function(m,g){return typeof g==="string"&&t.HTMLYouTubeVideoElement._canPlaySrc(g)};t.player("youtube",{_canPlayType:s});t.youtube=function(m,g,p){typeof console!=="undefined"&&console.warn&&console.warn("Deprecated player 'youtube'. Please use Popcorn.HTMLYouTubeVideoElement directly.");var i=t.HTMLYouTubeVideoElement(m);m=t(i,p);setTimeout(function(){i.src=g},0);return m};t.youtube.canPlayType=s})(window,Popcorn);
